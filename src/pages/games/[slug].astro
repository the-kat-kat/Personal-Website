---
import Layout from "../../layouts/Layout.astro";
import { games } from "../../data/games.js";

export function getStaticPaths() {
  return games.map((game) => ({
    params: { slug: game.slug },
    props: { game },
  }));
}
const { game } = Astro.props;
---

<Layout title={game.title}>
  <div class="flex flex-col items-center">
    <h1 class="text-4xl mb-4 font-sans">{game.title}</h1>

    <div
      class="relative w-full max-w-4xl aspect-video bg-black/20 rounded-xl overflow-hidden border border-white/10 shadow-2xl backdrop-blur-xl"
    >
      <iframe
        src={game.embedUrl}
        width="100%"
        height="100%"
        class="border-none"
        allowfullscreen></iframe>
    </div>

    <div
      class="mt-8 p-6 bg-white/5 backdrop-blur-md rounded-lg border border-white/10 max-w-2xl text-center"
    >
      <h2 class="text-xl mb-2 text-rose-300">About the Game</h2>
      <p class="text-white/80 leading-relaxed">{game.description}</p>
    </div>

    <a
      href="/"
      class="mt-8 text-xs uppercase tracking-widest text-white/40 hover:text-rose-300"
    >
      Back to Gallery
    </a>
  </div>
</Layout>
